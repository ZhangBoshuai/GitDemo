<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="vignette"></div>
<div class="overCurtain"></div>
<form id="loginForm">
    <div class="hide-center">
        <div id="formhead">
            <div id="formhead-title">
                User Login
            </div>
        </div>
        <div id="formbody">
            <div class="loginUserName">
                <input class="loginInput" id="username" name="username" placeholder="用户名" type="text">
            </div>
            <div class="loginPassword">
                <input type="password" id="password" name="password" class="loginInput" placeholder="密码">
            </div>

            <div style="color:#ffffff " id="msg"></div>
            <div>
                <button type="button" onclick="myLogin(this)" id="bu01" class="button success">Submit</button>
                <!--                <button type="button" onclick="myLogin(this)" id="bu01" class="button error">Submit</button>-->
            </div>
</div>
    </div>
</form>
</body>
<script src="js/jquery-3.3.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/css.css">
<link rel="stylesheet" type="text/css" href="css/logins.css">
<script src="js/show.js" type="text/javascript"></script>
<script src="js/form2json.js"></script>
<link rel="stylesheet" type="text/css" href="css/aa.css">
<script>
    function myLogin(ele) {
        var lf = $("#loginForm").formToJson()
        $.ajax({
            url: "/user/login",
            type: "POST",
            dataType: "json",
            data: lf,
            statusCode: {
                200: function () {
                    $(ele).removeClass()
                    $(ele).addClass("button success");
                    ele.classList.remove('animate');

                    ele.classList.add('animate');
                    setTimeout(function () {
                        location.href = 'kit.html'
                        ele.classList.remove('animate');
                    }, 5000);
                },
                500: function () {
                    $(ele).removeClass()
                    $(ele).addClass("button error");
                    ele.classList.remove('animate');

                    ele.classList.add('animate');


                    setTimeout(function () {
                        ele.classList.remove('animate');
                    }, 6000);
                }
            }
        })
    }
</script>
</html>