<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>添加课程</title>
    <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/form2json.js"></script>
    <script>
        $(function () {
            $.ajax({
                url: "/college/findAllCollege",
                type: "get",
                dataType: "json",
                statusCode: {
                    200: function (ele) {
                        $("#collegeCid").html("")
                        $(ele).each(function (i, data) {
                            $("#collegeCid").append("<option value=\"" + data.collegeId + "\">" + data.collegeName + "</option>")
                        })
                    },
                    500: function () {
                    }
                }
            })
        })

        function mySubmit() {
            var ft = $("#addForm").formToJson()
            $.ajax({
                url:"/course/add",
                type: "POST",
                dataType: "json",
                data: ft,
                statusCode: {
                    201: function () {
                        location.href = "courselist.html";
                    },
                    500: function () {
                        alert("添加失败")
                    }
                }
            })
        }
    </script>
</head>
<body>
<h1>添加课程</h1>
<hr>
<hr>
<form id="addForm">
    课程名称:<input type="text" id="courseName" name="courseName" placeholder="请输入"><br>
    课程类型:<input type="radio" id="courseRequired" name="courseRequired" value="必修">必修
    <input type="radio"  name="courseRequired" value="选修">选修<br>
    课程学时;<input type="text" name="courseTime" id="courseTime"><br>
    课程学分;<input type="text" name="courseCredit" id="math"><br>
    设立学院:<select name="collegeId" id="collegeCid">
    <!--<option value="计算机工程学院">计算机工程学院</option>-->
    <!--<option value="大数据工程学院">大数据工程学院</option>-->
</select>
    <br>
    课程描述:<textarea id="courseDepict" name="courseDepict" placeholder="请输入内容"></textarea><br>
    <input type="button"  onclick="mySubmit()" value="添加"> <input type="reset" name="button" id="caln"
                                                                          value="重置"/>

</form>
</body>
</html>